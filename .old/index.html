<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="x-icon" href="/src/assets/appLogo.webp" />
    <title>TKU Sparring System</title>
    <link rel="stylesheet" href="./src/styles/styles.css" />
    <link rel="stylesheet" href="./src/styles/components/healthBar.css" />
    <link rel="stylesheet" href="./src/styles/components/hitButtons.css" />
    <link rel="stylesheet" href="./src/styles/components/timer.css" />
    <link rel="stylesheet" href="./src/styles/components/modal.css" />
    <link rel="stylesheet" href="./src/styles/components/configuration.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&family=Oswald:wght@400;500;700&family=Montserrat:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Anton&family=Staatliches&family=Open+Sans+Condensed:wght@300;700&family=Roboto+Condensed:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Main application scripts -->
    <script src="./src/module/script.js" defer></script>
    <script src="./src/lib/regulations.js"></script>
    <script src="./src/lib/timer.js"></script>
    <script src="./src/lib/utils.js" defer></script>
    <script src="./src/lib/config.js" defer></script>
  </head>

  <body class="body">
    <div class="navbar">
      <div class="menu">
        <button class="menuButton">
          <svg
            width="254"
            height="207"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            xml:space="preserve"
            overflow="hidden"
          >
            <g transform="translate(-2073 -1134)">
              <path
                d="M2073 1176 2200 1176 2327 1176 2327 1134 2073 1134Z"
                fill="#FFFFFF"
                fill-rule="evenodd"
              />
              <path
                d="M2073 1258 2200 1258 2327 1258 2327 1217 2073 1217Z"
                fill="#FFFFFF"
                fill-rule="evenodd"
              />
              <path
                d="M2073 1341 2200 1341 2327 1341 2327 1299 2073 1299Z"
                fill="#FFFFFF"
                fill-rule="evenodd"
              />
            </g>
          </svg>
        </button>
      </div>
      <div class="titleSection">
        <h1 class="titleText">TKU Sparring System</h1>
      </div>
      <div class="sponsorSection">
        <img
          src="./src/assets/uit.webp"
          loading="eager"
          alt=""
          class="sponsorImage"
        />
        <img
          src="./src/assets/tku.webp"
          loading="eager"
          alt=""
          class="sponsorImage"
        />
      </div>
    </div>

    <div class="healthBarSection">
      <div class="avatar redPlayer">
        <img
          src="./src/assets/CapybaraTKU1.webp"
          loading="eager"
          alt="Red avatar"
          class="redAvatar"
        />
      </div>
      <div class="redHealthBar">
        <div class="healthBar">
          <div class="healthFrameHead"></div>
          <div class="healthFrame" id="redHealth">
            <div class="healthMeter" id="redHP"></div>
            <div class="healthDelayedIndicator" id="redDelayedHP"></div>
          </div>
          <div class="healthFrameHead"></div>
        </div>
        <div class="manaBar">
          <div class="manaFrameHead"></div>
          <div class="manaFrame">
            <div class="manaMeter" id="redMP1"></div>
            <div class="manaMeter" id="redMP2"></div>
            <div class="manaMeter" id="redMP3"></div>
            <div class="manaMeter" id="redMP4"></div>
            <div class="manaMeter" id="redMP5"></div>
          </div>
          <div class="manaFrameHead"></div>
        </div>
      </div>
      <div class="blueHealthBar">
        <div class="healthBar">
          <div class="healthFrameHead"></div>
          <div class="healthFrame" id="blueHealth">
            <div class="healthMeter" id="blueHP"></div>
            <div class="healthDelayedIndicator" id="blueDelayedHP"></div>
          </div>
          <div class="healthFrameHead"></div>
        </div>
        <div class="manaBar">
          <div class="manaFrameHead"></div>
          <div class="manaFrame">
            <div class="manaMeter" id="blueMP5"></div>
            <div class="manaMeter" id="blueMP4"></div>
            <div class="manaMeter" id="blueMP3"></div>
            <div class="manaMeter" id="blueMP2"></div>
            <div class="manaMeter" id="blueMP1"></div>
          </div>
          <div class="manaFrameHead"></div>
        </div>
      </div>
      <div class="avatar bluePlayer">
        <img
          src="./src/assets/CapybaraTKU2.webp"
          loading="eager"
          alt="Blue avatar"
          class="blueAvatar"
        />
      </div>
    </div>

    <div class="container">
      <div class="redLogColumn">
        <div class="redLogSection">
          <h1 class="playerName" id="redPlayer">PLAYER A</h1>
          <div class="redScoreButtons">
            <div class="criticalButtons">
              <button
                id="button-e"
                class="scoreButton"
                disabled
                onclick="subtractHealth('red', 5)"
              >
                <img
                  src="./src/assets/redHeadCritButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">E</span>
              </button>
              <button
                id="button-q"
                class="scoreButton"
                disabled
                onclick="subtractHealth('red', 4)"
              >
                <img
                  src="./src/assets/redTrunkCritButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">Q</span>
              </button>
            </div>
            <div class="normalButtons">
              <button
                id="button-d"
                class="scoreButton"
                disabled
                onclick="subtractHealth('red', 3)"
              >
                <img
                  src="./src/assets/redHeadButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">D</span>
              </button>
              <button
                id="button-s"
                class="scoreButton"
                disabled
                onclick="subtractHealth('red', 1)"
              >
                <img
                  src="./src/assets/redPunchButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">S</span>
              </button>
              <button
                id="button-a"
                class="scoreButton"
                disabled
                onclick="subtractHealth('red', 2)"
              >
                <img
                  src="./src/assets/redTrunkButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">A</span>
              </button>
            </div>
          </div>
        </div>
        <div class="redPenaltySection">
          <div class="redPenaltyBox" id="redPenalty">
            <p class="penaltyLabel">GAM-JEOM</p>
            <p class="penaltyValue" id="red-penalty">0</p>
          </div>
        </div>
      </div>

      <div class="redScoreColumn">
        <div class="redScoreBox">
          <div class="recordSection">
            <div class="roundRecord">
              <div class="roundLabel">R1</div>
              <div class="roundDmgScore" id="redR1">0</div>
              <img
                src="./src/assets/redWins.svg"
                loading="lazy"
                alt=""
                class="redWins"
                id="redWin1"
              />
            </div>
            <div class="roundRecord">
              <div class="roundLabel">R2</div>
              <div class="roundDmgScore" id="redR2">0</div>
              <img
                src="./src/assets/redWins.svg"
                loading="lazy"
                alt=""
                class="redWins"
                id="redWin2"
              />
            </div>
            <div class="roundRecord">
              <div class="roundLabel">R3</div>
              <div class="roundDmgScore" id="redR3">0</div>
              <img
                src="./src/assets/redWins.svg"
                loading="lazy"
                alt=""
                class="redWins"
                id="redWin3"
              />
            </div>
          </div>
          <div class="dmgScore" id="redDmgScore"></div>
          <div class="totalWins" id="redWon">0</div>
        </div>
        <div class="redStatsSection">
          <div class="statItem">
            <p class="statLabel0">#WON</p>
            <p class="statValue0" id="red-won">0</p>
          </div>
          <div class="statItem">
            <p class="statLabel0">HITS</p>
            <p class="statValue0" id="red-hits">0</p>
          </div>
        </div>
      </div>

      <div class="timer">
        <div class="timerContainer">
          <div class="matchInfo">
            <h2 class="matchLabel">MATCH</h2>
            <h2 class="matchId">001</h2>
          </div>
          <div class="clockSection">
            <div class="timeBox" id="time-box">
              <h1 class="timeValue" id="timer">1:00</h1>
            </div>
            <div class="timeoutSection">
              <h2 class="timeoutLabel" id="timeout-label">Time out</h2>
            </div>
          </div>
          <div class="roundInfo">
            <h2 class="roundLabel">ROUND</h2>
            <h2 class="roundId" id="round">1</h2>
          </div>
        </div>
      </div>

      <div class="blueScoreColumn">
        <div class="blueScoreBox">
          <div class="recordSection">
            <div class="roundRecord">
              <div class="roundLabel">R1</div>
              <div class="roundDmgScore" id="blueR1">0</div>
              <img
                src="./src/assets/blueWins.svg"
                loading="lazy"
                alt=""
                class="blueWins"
                id="blueWin1"
              />
            </div>
            <div class="roundRecord">
              <div class="roundLabel">R2</div>
              <div class="roundDmgScore" id="blueR2">0</div>
              <img
                src="./src/assets/blueWins.svg"
                loading="lazy"
                alt=""
                class="blueWins"
                id="blueWin2"
              />
            </div>
            <div class="roundRecord">
              <div class="roundLabel">R3</div>
              <div class="roundDmgScore" id="blueR3">0</div>
              <img
                src="./src/assets/blueWins.svg"
                loading="lazy"
                alt=""
                class="blueWins"
                id="blueWin3"
              />
            </div>
          </div>
          <div class="dmgScore" id="blueDmgScore"></div>
          <div class="totalWins" id="blueWon">0</div>
        </div>
        <div class="blueStatsSection">
          <div class="statItem">
            <p class="statLabel1">HITS</p>
            <p class="statValue1" id="blue-hits">0</p>
          </div>
          <div class="statItem">
            <p class="statLabel1">#WON</p>
            <p class="statValue1" id="blue-won">0</p>
          </div>
        </div>
      </div>

      <div class="blueLogColumn">
        <div class="blueLogSection">
          <h1 class="playerName" id="bluePlayer">PLAYER B</h1>
          <div class="blueScoreButtons">
            <div class="normalButtons">
              <button
                id="button-j"
                class="scoreButton"
                disabled
                onclick="subtractHealth('blue', 3)"
              >
                <img
                  src="./src/assets/blueHeadButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">J</span>
              </button>
              <button
                id="button-k"
                class="scoreButton"
                disabled
                onclick="subtractHealth('blue', 1)"
              >
                <img
                  src="./src/assets/bluePunchButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">K</span>
              </button>
              <button
                id="button-l"
                class="scoreButton"
                disabled
                onclick="subtractHealth('blue', 2)"
              >
                <img
                  src="./src/assets/blueTrunkButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">L</span>
              </button>
            </div>
            <div class="criticalButtons">
              <button
                id="button-u"
                class="scoreButton"
                disabled
                onclick="subtractHealth('blue', 5)"
              >
                <img
                  src="./src/assets/blueHeadCritButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">U</span>
              </button>
              <button
                id="button-o"
                class="scoreButton"
                disabled
                onclick="subtractHealth('blue', 4)"
              >
                <img
                  src="./src/assets/blueTrunkCritButton.webp"
                  loading="eager"
                  alt=""
                  class="scoringButton"
                />
                <span class="buttonNote">O</span>
              </button>
            </div>
          </div>
        </div>
        <div class="bluePenaltySection">
          <div class="bluePenaltyBox" id="bluePenalty">
            <p class="penaltyLabel">GAM-JEOM</p>
            <p class="penaltyValue" id="blue-penalty">0</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Displaying match result -->
    <div id="match-result-modal" class="modal">
      <span id="modal-close" class="modal-close" aria-label="Close">×</span>
      <div class="modal-header">
        <h2 id="modal-match-number">MATCH RESULT</h2>
      </div>
      <div class="modal-result">
        <div class="winner-label">
          <p class="label">WINNER</p>
        </div>
        <div class="score-box blue-score" id="modal-blue-score">0</div>
        <div class="score-box red-score" id="modal-red-score">0</div>
      </div>
      <div class="winner-info">
        <img
          src="./src/assets/CapybaraTKU1.webp"
          alt="Winner Avatar"
          class="winner-avatar"
          id="modal-winner-avatar"
        />
        <div class="winner-name" id="modal-winner-name">PLAYER NAME</div>
      </div>
      <div
        class="modal-buttons"
        id="modal-result-buttons"
        style="display: none"
      >
        <button id="cancelResult" class="modal-button">CANCEL RESULT</button>
        <button id="acceptResult" class="modal-button">ACCEPT RESULT</button>
      </div>
    </div>

    <!-- Configuration Pop-up -->
    <div id="configPopup" class="config-popup">
      <div class="config-content">
        <h2 class="config-title">
          Configure Match Settings
          <button
            id="closeConfig"
            class="config-close-button"
            aria-label="Close"
          >
            ×
          </button>
        </h2>
        <div class="config-main-container">
          <div class="config-sidebar">
            <div class="config-tabs">
              <button class="config-tab active" data-tab="standard">
                Standard
              </button>
              <button class="config-tab" data-tab="advanced">Advance</button>
            </div>
          </div>
          <div class="config-tab-content">
            <!-- Standard Tab Content -->
            <div class="config-tab-pane active" id="standard-tab">
              <div class="config-sections-container">
                <div class="config-section">
                  <h3>Select Player Avatars</h3>
                  <div class="avatar-selection">
                    <div class="avatar-input">
                      <label for="avatar1">Player 1 Avatar</label>
                      <div class="avatar-preview-container">
                        <div class="avatar-preview-frame">
                          <img
                            src="./src/assets/CapybaraTKU1.webp"
                            alt="Player 1 Preview"
                            class="avatar-preview"
                            id="avatar1-preview"
                          />
                        </div>
                        <div class="file-input-wrapper">
                          <input type="file" id="avatar1" accept="image/*" />
                          <div class="file-input-button">
                            <svg class="file-input-icon" viewBox="0 0 24 24">
                              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                            </svg>
                            Choose File
                          </div>
                          <div class="file-name" id="avatar1-name">
                            No file chosen
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="avatar-input">
                      <label for="avatar2">Player 2 Avatar</label>
                      <div class="avatar-preview-container">
                        <div class="avatar-preview-frame">
                          <img
                            src="./src/assets/CapybaraTKU2.webp"
                            alt="Player 2 Preview"
                            class="avatar-preview"
                            id="avatar2-preview"
                          />
                        </div>
                        <div class="file-input-wrapper">
                          <input type="file" id="avatar2" accept="image/*" />
                          <div class="file-input-button">
                            <svg class="file-input-icon" viewBox="0 0 24 24">
                              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                            </svg>
                            Choose File
                          </div>
                          <div class="file-name" id="avatar2-name">
                            No file chosen
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="config-section">
                  <h3>Player Names</h3>
                  <div class="player-names">
                    <div class="player-input">
                      <label for="player1Name">Red Player Name</label>
                      <input
                        type="text"
                        id="player1Name"
                        placeholder="Enter Red Player Name"
                        required
                      />
                    </div>
                    <div class="player-input">
                      <label for="player2Name">Blue Player Name</label>
                      <input
                        type="text"
                        id="player2Name"
                        placeholder="Enter Blue Player Name"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="config-section">
                  <h3>Round and Break-time Duration (in seconds)</h3>
                  <div class="duration-inputs">
                    <div class="duration-input">
                      <label for="roundDuration">Round Duration</label>
                      <input
                        type="number"
                        id="roundDuration"
                        value="60"
                        min="1"
                        max="300"
                        required
                      />
                    </div>
                    <div class="duration-input">
                      <label for="breakDuration">Break Duration</label>
                      <input
                        type="number"
                        id="breakDuration"
                        value="30"
                        min="1"
                        max="300"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="config-section">
                  <h3>Maximum Health</h3>
                  <label for="maxHealth"></label
                  ><input
                    type="number"
                    id="maxHealth"
                    min="50"
                    max="200"
                    value="120"
                    required
                  />
                </div>
              </div>
            </div>

            <!-- Advanced Tab Content -->
            <div class="config-tab-pane" id="advanced-tab">
              <div class="config-sections-container">
                <div class="config-section">
                  <h3>Tournament Settings</h3>
                  <div class="tournament-settings">
                    <div class="dropdown-group">
                      <label for="groupSelect">Select Group</label>
                      <div class="custom-dropdown">
                        <select id="groupSelect" class="dropdown-select">
                          <option value="" disabled selected>
                            Select a group
                          </option>
                        </select>
                        <div class="dropdown-arrow"></div>
                        <div class="dropdown-list" id="groupDropdownList"></div>
                      </div>
                    </div>

                    <div class="dropdown-group">
                      <label for="matchSelect">Select Match</label>
                      <div class="custom-dropdown">
                        <select
                          id="matchSelect"
                          class="dropdown-select"
                          disabled
                        >
                          <option value="" disabled selected>
                            Select a match
                          </option>
                        </select>
                        <div class="dropdown-arrow"></div>
                        <div class="dropdown-list" id="matchDropdownList"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="config-section">
                  <h3>Player Information</h3>
                  <div class="player-info">
                    <div class="player-box">
                      <div class="player-avatar">
                        <div class="avatar-preview-frame">
                          <img
                            src="./src/assets/CapybaraTKU1.webp"
                            alt="Red Player"
                            class="avatar-preview"
                            id="advanced-red-avatar"
                          />
                        </div>
                      </div>
                      <div class="player-details">
                        <label>Red Player</label>
                        <input type="text" id="advanced-red-name" readonly />
                      </div>
                    </div>
                    <div class="player-box">
                      <div class="player-avatar">
                        <div class="avatar-preview-frame">
                          <img
                            src="./src/assets/CapybaraTKU2.webp"
                            alt="Blue Player"
                            class="avatar-preview"
                            id="advanced-blue-avatar"
                          />
                        </div>
                      </div>
                      <div class="player-details">
                        <label>Blue Player</label>
                        <input type="text" id="advanced-blue-name" readonly />
                      </div>
                    </div>
                  </div>
                </div>

                <div class="config-section">
                  <h3>Round and Break-time Duration (in seconds)</h3>
                  <div class="duration-inputs">
                    <div class="duration-input">
                      <label for="advancedRoundDuration">Round Duration</label>
                      <input
                        type="number"
                        id="advancedRoundDuration"
                        min="1"
                        max="300"
                        value="60"
                        required
                      />
                    </div>
                    <div class="duration-input">
                      <label for="advancedBreakDuration">Break Duration</label>
                      <input
                        type="number"
                        id="advancedBreakDuration"
                        value="30"
                        min="1"
                        max="300"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="config-section">
                  <h3>Maximum Health</h3>
                  <label for="advancedMaxHealth"></label>
                  <input
                    type="number"
                    id="advancedMaxHealth"
                    min="50"
                    max="200"
                    value="120"
                    required
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="config-buttons">
          <button id="cancelConfig" class="config-button">Cancel</button>
          <button id="okConfig" class="config-button" disabled>OK</button>
        </div>
      </div>
    </div>
  </body>
</html>
